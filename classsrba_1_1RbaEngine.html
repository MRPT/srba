<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SRBA: Sparser Relative Bundle Adjustment: srba::RbaEngine&lt; KF2KF_POSE_TYPE, LM_TYPE, OBS_TYPE, RBA_OPTIONS &gt; Class Template Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">SRBA: Sparser Relative Bundle Adjustment
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>srba</b>      </li>
      <li class="navelem"><a class="el" href="classsrba_1_1RbaEngine.html">RbaEngine</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">srba::RbaEngine&lt; KF2KF_POSE_TYPE, LM_TYPE, OBS_TYPE, RBA_OPTIONS &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="srba::RbaEngine" --><hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><h3>template&lt;class KF2KF_POSE_TYPE, class LM_TYPE, class OBS_TYPE, class RBA_OPTIONS = RBA_OPTIONS_DEFAULT&gt;<br/>
class srba::RbaEngine&lt; KF2KF_POSE_TYPE, LM_TYPE, OBS_TYPE, RBA_OPTIONS &gt;</h3>

<p>The main class for the mrpt-srba: it defines a Relative Bundle-Adjustment (RBA) problem with (optionally, partially known) landmarks, the methods to update it with new observations and to optimize the relative poses with least squares optimizers.</p>
<p>The unknowns to be solved are:</p>
<ul>
<li>Relative poses among keyframes.</li>
<li>Relative positions of landmarks wrt to their base frame (or no landmarks for graph-SLAM-like problems)</li>
</ul>
<p>The set of known data used to run the optimization comprises:</p>
<ul>
<li>Sequence of all observations.</li>
<li>Optional sensor parameters (e.g. camera calibration)</li>
<li>Optionally, the relative positions of a subset of landmarks wrt to their base frame (these are the "fixed" or "known" landmarks).</li>
</ul>
<p>See <a href="http://mrpt.github.io/srba/">http://mrpt.github.io/srba/</a> and <a href="http://mrpt.github.io/srba/srba-guide.pdf">`srba-guide`</a> therein for a list of possible template arguments, code examples, etc.</p>
<dl class=""><dt><b>Template Parameters:</b></dt><dd>
  <table class="">
    <tr><td class="paramname">KF2KF_POSE_TYPE</td><td>The parameterization of keyframe-to-keyframe relative poses (edges, problem unknowns). </td></tr>
    <tr><td class="paramname"><a class="el" href="classLM__TYPE.html">LM_TYPE</a></td><td>The parameterization of relative positions of landmarks relative poses (edges). </td></tr>
    <tr><td class="paramname">OBS_TYPE</td><td>The type of observations. </td></tr>
    <tr><td class="paramname"><a class="el" href="structRBA__OPTIONS.html" title="[includes_namespaces]">RBA_OPTIONS</a></td><td>A struct with nested typedefs which can be used to tune and customize the behavior of this class. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="RbaEngine_8h_source.html#l00067">67</a> of file <a class="el" href="RbaEngine_8h_source.html">RbaEngine.h</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="RbaEngine_8h_source.html">RbaEngine.h</a>&gt;</code></p>

<p><a href="classsrba_1_1RbaEngine-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrba_1_1RbaEngine_1_1ExportGraphSLAM__Params.html">ExportGraphSLAM_Params</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrba_1_1RbaEngine_1_1TAllParameters.html">TAllParameters</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrba_1_1RbaEngine_1_1TBFSEntryEdges.html">TBFSEntryEdges</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrba_1_1RbaEngine_1_1TNewKeyFrameInfo.html">TNewKeyFrameInfo</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrba_1_1RbaEngine_1_1TNumeric__dh__dAp__params.html">TNumeric_dh_dAp_params</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrba_1_1RbaEngine_1_1TNumeric__dh__df__params.html">TNumeric_dh_df_params</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrba_1_1RbaEngine_1_1TObsUsed.html">TObsUsed</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrba_1_1RbaEngine_1_1TOpenGLRepresentationOptions.html">TOpenGLRepresentationOptions</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrba_1_1RbaEngine_1_1TOptimizeExtraOutputInfo.html">TOptimizeExtraOutputInfo</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrba_1_1RbaEngine_1_1TOptimizeLocalAreaParams.html">TOptimizeLocalAreaParams</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrba_1_1RbaEngine_1_1TSRBAParameters.html">TSRBAParameters</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrba_1_1RbaEngine_1_1VisitorOptimizeLocalArea.html">VisitorOptimizeLocalArea</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a48c6eeea6c8f2505eb24e349ef532103">RbaEngine</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a59cf6a8a559c8d070f024ea946388a8a">enable_time_profiler</a> (bool enable=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ada7345fdd92708e382e76582671c9843"></a><!-- doxytag: member="srba::RbaEngine::get_k2k_edges" ref="ada7345fdd92708e382e76582671c9843" args="() const " -->
const <a class="el" href="classsrba_1_1RbaEngine.html#aa331a47a6a8b6c5435843714fbcdbe7b">k2k_edges_deque_t</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>get_k2k_edges</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad7ce776e1e4c277566f4b7c503ff49c7"></a><!-- doxytag: member="srba::RbaEngine::get_known_feats" ref="ad7ce776e1e4c277566f4b7c503ff49c7" args="() const " -->
const <a class="el" href="classsrba_1_1RbaEngine.html#a7a58dde8b100c4cbd3181ffa30845971">TRelativeLandmarkPosMap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>get_known_feats</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8f78231884bcb4100c37a4a7798f7ff0"></a><!-- doxytag: member="srba::RbaEngine::get_unknown_feats" ref="a8f78231884bcb4100c37a4a7798f7ff0" args="() const " -->
const <a class="el" href="classsrba_1_1RbaEngine.html#a7a58dde8b100c4cbd3181ffa30845971">TRelativeLandmarkPosMap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>get_unknown_feats</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af8947ff56b234d60fec64f2831eeedaf"></a><!-- doxytag: member="srba::RbaEngine::get_rba_state" ref="af8947ff56b234d60fec64f2831eeedaf" args="() const " -->
const <a class="el" href="structsrba_1_1TRBA__Problem__state.html">rba_problem_state_t</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>get_rba_state</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8e3dc93f6703fdbfb202fda6a329372b"></a><!-- doxytag: member="srba::RbaEngine::get_rba_state" ref="a8e3dc93f6703fdbfb202fda6a329372b" args="()" -->
<a class="el" href="structsrba_1_1TRBA__Problem__state.html">rba_problem_state_t</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>get_rba_state</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="dox_mrpt.tag:http://reference.mrpt.org/devel//" href="http://reference.mrpt.org/devel/classmrpt_1_1utils_1_1_c_time_logger.html">mrpt::utils::CTimeLogger</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#ad60527df4e70255f2776983f116bf189">get_time_profiler</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a9d1ef5167ff512b5d151e129fd731cd5">setVerbosityLevel</a> (int level)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class SPARSEBLOCKHESSIAN &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">size_t&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#ad9028b772a3ad3cd5f4c492a4bbfb84c">sparse_hessian_update_numeric</a> (SPARSEBLOCKHESSIAN &amp;H) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#ae48c4fcb3c4374cefd5804d56fa08f5e">compute_jacobian_dh_dp</a> (typename TSparseBlocksJacobians_dh_dAp::TEntry &amp;jacob, const <a class="el" href="structsrba_1_1rba__joint__parameterization__traits__t_1_1k2f__edge__t.html">k2f_edge_t</a> &amp;observation, const <a class="el" href="classsrba_1_1RbaEngine.html#aa331a47a6a8b6c5435843714fbcdbe7b">k2k_edges_deque_t</a> &amp;k2k_edges, std::vector&lt; const pose_flag_t * &gt; *out_list_of_required_num_poses) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a652e7f62609ac889500a2622d3ea90bf">compute_jacobian_dh_df</a> (typename TSparseBlocksJacobians_dh_df::TEntry &amp;jacob, const <a class="el" href="structsrba_1_1rba__joint__parameterization__traits__t_1_1k2f__edge__t.html">k2f_edge_t</a> &amp;observation, std::vector&lt; const pose_flag_t * &gt; *out_list_of_required_num_poses) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a269f55e93629f605deed91719741ef86"></a><!-- doxytag: member="srba::RbaEngine::gl_aux_draw_node" ref="a269f55e93629f605deed91719741ef86" args="(mrpt::opengl::CSetOfObjects &amp;soo, const std::string &amp;label, const float x, const float y) const " -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>gl_aux_draw_node</b> (<a class="elRef" doxygen="dox_mrpt.tag:http://reference.mrpt.org/devel//" href="http://reference.mrpt.org/devel/classmrpt_1_1opengl_1_1_c_set_of_objects.html">mrpt::opengl::CSetOfObjects</a> &amp;soo, const std::string &amp;label, const float x, const float y) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8c7086bbf07523c92a523eb44845e4a2"></a><!-- doxytag: member="srba::RbaEngine::compute_minus_gradient" ref="a8c7086bbf07523c92a523eb44845e4a2" args="(Eigen::VectorXd &amp;minus_grad, const std::vector&lt; typename TSparseBlocksJacobians_dh_dAp::col_t * &gt; &amp;sparse_jacobs_Ap, const std::vector&lt; typename TSparseBlocksJacobians_dh_df::col_t * &gt; &amp;sparse_jacobs_f, const vector_residuals_t &amp;residuals, const std::map&lt; size_t, size_t &gt; &amp;obs_global_idx2residual_idx) const " -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>compute_minus_gradient</b> (Eigen::VectorXd &amp;minus_grad, const std::vector&lt; typename TSparseBlocksJacobians_dh_dAp::col_t * &gt; &amp;sparse_jacobs_Ap, const std::vector&lt; typename TSparseBlocksJacobians_dh_df::col_t * &gt; &amp;sparse_jacobs_f, const vector_residuals_t &amp;residuals, const std::map&lt; size_t, size_t &gt; &amp;obs_global_idx2residual_idx) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a0c22bc4d6045612024e651aff7815fd0">reprojection_residuals</a> (vector_residuals_t &amp;residuals, const std::vector&lt; <a class="el" href="structsrba_1_1RbaEngine_1_1TObsUsed.html">TObsUsed</a> &gt; &amp;observations) const </td></tr>
<tr><td colspan="2"><div class="groupHeader">Main API methods</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#ac42b495132c3dc079bdfd3b51e402210">define_new_keyframe</a> (const typename <a class="el" href="structsrba_1_1rba__joint__parameterization__traits__t.html#a118ea54cd0d7342acef63c9fdcdad33e">traits_t::new_kf_observations_t</a> &amp;obs, <a class="el" href="structsrba_1_1RbaEngine_1_1TNewKeyFrameInfo.html">TNewKeyFrameInfo</a> &amp;out_new_kf_info, const bool run_local_optimization=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a4a764c69394055abe90b1f833b656855">optimize_local_area</a> (const TKeyFrameID root_id, const unsigned int win_size, <a class="el" href="structsrba_1_1RbaEngine_1_1TOptimizeExtraOutputInfo.html">TOptimizeExtraOutputInfo</a> &amp;out_info, const <a class="el" href="structsrba_1_1RbaEngine_1_1TOptimizeLocalAreaParams.html">TOptimizeLocalAreaParams</a> &amp;params=<a class="el" href="structsrba_1_1RbaEngine_1_1TOptimizeLocalAreaParams.html">TOptimizeLocalAreaParams</a>(), const std::vector&lt; size_t &gt; &amp;observation_indices_to_optimize=std::vector&lt; size_t &gt;())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a33b5953c7bc054662b4154b8b3b489f9">build_opengl_representation</a> (const srba::TKeyFrameID root_keyframe, const <a class="el" href="structsrba_1_1RbaEngine_1_1TOpenGLRepresentationOptions.html">TOpenGLRepresentationOptions</a> &amp;options, mrpt::opengl::CSetOfObjectsPtr out_scene, mrpt::opengl::CSetOfObjectsPtr out_root_tree=mrpt::opengl::CSetOfObjectsPtr()) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a226a8b58b51ae5fbb5376946af2e892f">save_graph_as_dot</a> (const std::string &amp;targetFileName, const bool all_landmarks=false) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a18deccb1d87805b79d1057ea516e41b3">save_graph_top_structure_as_dot</a> (const std::string &amp;targetFileName, const bool set_node_coordinates) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#afd9dfc707a544937695c2ac23def59b6">eval_overall_squared_error</a> () const </td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class POSE_GRAPH &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#ac9045312bc064b3548c61610c8807740">get_global_graphslam_problem</a> (POSE_GRAPH &amp;global_graph, const <a class="el" href="structsrba_1_1RbaEngine_1_1ExportGraphSLAM__Params.html">ExportGraphSLAM_Params</a> &amp;params=<a class="el" href="structsrba_1_1RbaEngine_1_1ExportGraphSLAM__Params.html">ExportGraphSLAM_Params</a>()) const </td></tr>
<tr><td colspan="2"><div class="groupHeader">Extra API methods (for debugging, etc.)</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a441b2e72c2401a3bb07c89a3c4aeae80">clear</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TKeyFrameID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#abf4d2e13d959207129be89ad3bd7e67f">alloc_keyframe</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#afeb4a8a93355de22518946526f50b7c8">create_kf2kf_edge</a> (const TKeyFrameID new_kf_id, const TPairKeyFrameID &amp;new_edge, const typename <a class="el" href="structsrba_1_1rba__joint__parameterization__traits__t.html#a118ea54cd0d7342acef63c9fdcdad33e">traits_t::new_kf_observations_t</a> &amp;obs, const <a class="el" href="classsrba_1_1RbaEngine.html#a7e93fb52935f6a322a74e83ae228cf6c">pose_t</a> &amp;init_inv_pose_val=<a class="el" href="classsrba_1_1RbaEngine.html#a7e93fb52935f6a322a74e83ae228cf6c">pose_t</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#ae73d37babfc465350b2376daf5f9d352">create_complete_spanning_tree</a> (const TKeyFrameID root_id, frameid2pose_map_t &amp;span_tree, const size_t max_depth=std::numeric_limits&lt; size_t &gt;::max(), std::vector&lt; bool &gt; *aux_ws=NULL) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#ab3c19b155e0d3a1aa753df02847e9146">find_path_bfs</a> (const TKeyFrameID src_kf, const TKeyFrameID trg_kf, std::vector&lt; TKeyFrameID &gt; &amp;found_path) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classsrba_1_1RbaEngine.html#a7e93fb52935f6a322a74e83ae228cf6c">pose_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#afe9404ae3e15bc8a7ffbd3c27715cd6c">get_kf_relative_pose</a> (const TKeyFrameID kf_query, const TKeyFrameID kf_reference) const </td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class KF_VISITOR , class FEAT_VISITOR , class K2K_EDGE_VISITOR , class K2F_EDGE_VISITOR &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a0dd5a776c8786f43640c9530c4dd1f40">bfs_visitor</a> (const TKeyFrameID root_id, const topo_dist_t max_distance, const bool rely_on_prebuilt_spanning_trees, KF_VISITOR &amp;kf_visitor, FEAT_VISITOR &amp;feat_visitor, K2K_EDGE_VISITOR &amp;k2k_edge_visitor, K2F_EDGE_VISITOR &amp;k2f_edge_visitor) const </td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class HESS_Ap , class HESS_f , class HESS_Apf , class JACOB_COLUMN_dh_dAp , class JACOB_COLUMN_dh_df &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a6721d5ed73e422aab8fa4b01b71f8f47">sparse_hessian_build_symbolic</a> (HESS_Ap &amp;HAp, HESS_f &amp;Hf, HESS_Apf &amp;HApf, const std::vector&lt; JACOB_COLUMN_dh_dAp * &gt; &amp;dh_dAp, const std::vector&lt; JACOB_COLUMN_dh_df * &gt; &amp;dh_df)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#afe98fcb904d0feffd713741eea8aeccb">numeric_dh_dAp</a> (const <a class="elRef" doxygen="dox_mrpt.tag:http://reference.mrpt.org/devel//" href="http://reference.mrpt.org/devel/classmrpt_1_1math_1_1_c_array_double.html">array_pose_t</a> &amp;x, const <a class="el" href="structsrba_1_1RbaEngine_1_1TNumeric__dh__dAp__params.html">TNumeric_dh_dAp_params</a> &amp;params, <a class="elRef" doxygen="dox_mrpt.tag:http://reference.mrpt.org/devel//" href="http://reference.mrpt.org/devel/classmrpt_1_1math_1_1_c_array_double.html">array_obs_t</a> &amp;y)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#aa4bbfeb622c6bbaafcc36627d4035142">numeric_dh_df</a> (const <a class="elRef" doxygen="dox_mrpt.tag:http://reference.mrpt.org/devel//" href="http://reference.mrpt.org/devel/classmrpt_1_1math_1_1_c_array_double.html">array_landmark_t</a> &amp;x, const <a class="el" href="structsrba_1_1RbaEngine_1_1TNumeric__dh__df__params.html">TNumeric_dh_df_params</a> &amp;params, <a class="elRef" doxygen="dox_mrpt.tag:http://reference.mrpt.org/devel//" href="http://reference.mrpt.org/devel/classmrpt_1_1math_1_1_c_array_double.html">array_obs_t</a> &amp;y)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acdfad27a6c237dcdc79ab483428f44b3"></a><!-- doxytag: member="srba::RbaEngine::add_edge_ij_to_list_needed_roots" ref="acdfad27a6c237dcdc79ab483428f44b3" args="(std::set&lt; TKeyFrameID &gt; &amp;lst, const TKeyFrameID i, const TKeyFrameID j)" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><b>add_edge_ij_to_list_needed_roots</b> (std::set&lt; TKeyFrameID &gt; &amp;lst, const TKeyFrameID i, const TKeyFrameID j)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a698a002f75218f66526c65eb8d1405f6">huber_kernel</a> (double delta, const double kernel_param)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a119b179262d8ef5f60ad7921a1dbcc31"></a><!-- doxytag: member="srba::RbaEngine::aux_null_pose" ref="a119b179262d8ef5f60ad7921a1dbcc31" args="" -->
const <a class="el" href="classsrba_1_1RbaEngine.html#a7e93fb52935f6a322a74e83ae228cf6c">pose_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a119b179262d8ef5f60ad7921a1dbcc31">aux_null_pose</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A fixed SE(3) pose at the origin (used when we need a pointer or a reference to a "null transformation"). <br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Public data fields</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3d2f22996f0d3d38cc467fc283d42eb0"></a><!-- doxytag: member="srba::RbaEngine::parameters" ref="a3d2f22996f0d3d38cc467fc283d42eb0" args="" -->
<a class="el" href="structsrba_1_1RbaEngine_1_1TAllParameters.html">TAllParameters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a3d2f22996f0d3d38cc467fc283d42eb0">parameters</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Hierarchical struct with all parameters. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a202a8517305e82a724ffa8e2f4035881"></a><!-- doxytag: member="srba::RbaEngine::edge_creation_policy" ref="a202a8517305e82a724ffa8e2f4035881" args="" -->
<a class="el" href="structsrba_1_1RBA__OPTIONS__DEFAULT.html#aa37c742a7b0cb438271a85e5628e02ed">RBA_OPTIONS::edge_creation_policy_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a202a8517305e82a724ffa8e2f4035881">edge_creation_policy</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The edge creation policy object. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">(Protected) Sub-algorithms</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a22c6828025a062037fa227b68ea38bde">determine_kf2kf_edges_to_create</a> (const TKeyFrameID new_kf_id, const typename <a class="el" href="structsrba_1_1rba__joint__parameterization__traits__t.html#a118ea54cd0d7342acef63c9fdcdad33e">traits_t::new_kf_observations_t</a> &amp;obs, std::vector&lt; <a class="el" href="structsrba_1_1TNewEdgeInfo.html">TNewEdgeInfo</a> &gt; &amp;new_k2k_edge_ids)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a7c9012717d290754a160e235c7b271b4">optimize_edges</a> (const std::vector&lt; size_t &gt; &amp;run_k2k_edges, const std::vector&lt; size_t &gt; &amp;run_feat_ids_in, <a class="el" href="structsrba_1_1RbaEngine_1_1TOptimizeExtraOutputInfo.html">TOptimizeExtraOutputInfo</a> &amp;out_info, const std::vector&lt; size_t &gt; &amp;observation_indices_to_optimize=std::vector&lt; size_t &gt;())</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9972990f05334df49046ec43a177bf46"></a><!-- doxytag: member="srba::RbaEngine::m_verbose_level" ref="a9972990f05334df49046ec43a177bf46" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a9972990f05334df49046ec43a177bf46">m_verbose_level</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">0: None (only critical msgs), 1: verbose (default value), 2:even more verbose, 3: even more <br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Templatized typedef's</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9c34ba16012ac79f5291593a3448cd08"></a><!-- doxytag: member="srba::RbaEngine::rba_engine_t" ref="a9c34ba16012ac79f5291593a3448cd08" args="" -->
typedef <a class="el" href="classsrba_1_1RbaEngine.html">RbaEngine</a><br class="typebreak"/>
&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, <br class="typebreak"/>
OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>rba_engine_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9e5dd2dc810fab547bbf4d3e6dbb06cd"></a><!-- doxytag: member="srba::RbaEngine::kf2kf_pose_t" ref="a9e5dd2dc810fab547bbf4d3e6dbb06cd" args="" -->
typedef KF2KF_POSE_TYPE&#160;</td><td class="memItemRight" valign="bottom"><b>kf2kf_pose_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae254b75154717ef25ae52e2e23b92cf7"></a><!-- doxytag: member="srba::RbaEngine::landmark_t" ref="ae254b75154717ef25ae52e2e23b92cf7" args="" -->
typedef <a class="el" href="classLM__TYPE.html">LM_TYPE</a>&#160;</td><td class="memItemRight" valign="bottom"><b>landmark_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a11ce83320d2c68ec6a292f2aef1dd9ff"></a><!-- doxytag: member="srba::RbaEngine::obs_t" ref="a11ce83320d2c68ec6a292f2aef1dd9ff" args="" -->
typedef OBS_TYPE&#160;</td><td class="memItemRight" valign="bottom"><b>obs_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acba970d01cd3386fac09de945c9a1f5d"></a><!-- doxytag: member="srba::RbaEngine::rba_options_t" ref="acba970d01cd3386fac09de945c9a1f5d" args="" -->
typedef <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a>&#160;</td><td class="memItemRight" valign="bottom"><b>rba_options_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8dc4ce69184134d8cb27c71ed8741a93"></a><!-- doxytag: member="srba::RbaEngine::se_traits_t" ref="a8dc4ce69184134d8cb27c71ed8741a93" args="" -->
typedef kf2kf_pose_t::se_traits_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a8dc4ce69184134d8cb27c71ed8741a93">se_traits_t</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The SE(2) or SE(3) traits struct (for Lie algebra log/exp maps, etc.) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af3d126ae2e843bd2be22874879967a6a"></a><!-- doxytag: member="srba::RbaEngine::traits_t" ref="af3d126ae2e843bd2be22874879967a6a" args="" -->
typedef <br class="typebreak"/>
<a class="el" href="structsrba_1_1rba__joint__parameterization__traits__t.html">rba_joint_parameterization_traits_t</a><br class="typebreak"/>
&lt; kf2kf_pose_t, <a class="el" href="classLM__TYPE.html">landmark_t</a>, <br class="typebreak"/>
obs_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>traits_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a00b260e92f72134c0427b0702368f859"></a><!-- doxytag: member="srba::RbaEngine::jacobian_traits_t" ref="a00b260e92f72134c0427b0702368f859" args="" -->
typedef <a class="el" href="structsrba_1_1jacobian__traits.html">jacobian_traits</a><br class="typebreak"/>
&lt; kf2kf_pose_t, <a class="el" href="classLM__TYPE.html">landmark_t</a>, <br class="typebreak"/>
obs_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>jacobian_traits_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a25edb065796abdd8492e3138843062b0"></a><!-- doxytag: member="srba::RbaEngine::hessian_traits_t" ref="a25edb065796abdd8492e3138843062b0" args="" -->
typedef <a class="el" href="structsrba_1_1hessian__traits.html">hessian_traits</a><br class="typebreak"/>
&lt; kf2kf_pose_t, <a class="el" href="classLM__TYPE.html">landmark_t</a>, <br class="typebreak"/>
obs_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>hessian_traits_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9518b7faa4f1ffe90595932caa28661f"></a><!-- doxytag: member="srba::RbaEngine::kf2kf_pose_traits_t" ref="a9518b7faa4f1ffe90595932caa28661f" args="" -->
typedef <a class="el" href="structsrba_1_1kf2kf__pose__traits.html">kf2kf_pose_traits</a><br class="typebreak"/>
&lt; kf2kf_pose_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>kf2kf_pose_traits_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a933260096b357d5c5a60a8b06259c3c8"></a><!-- doxytag: member="srba::RbaEngine::landmark_traits_t" ref="a933260096b357d5c5a60a8b06259c3c8" args="" -->
typedef <a class="el" href="structsrba_1_1landmark__traits.html">landmark_traits</a><br class="typebreak"/>
&lt; <a class="el" href="classLM__TYPE.html">landmark_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>landmark_traits_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2dfd200af50106ce49b13baa6ca4355e"></a><!-- doxytag: member="srba::RbaEngine::observation_traits_t" ref="a2dfd200af50106ce49b13baa6ca4355e" args="" -->
typedef <a class="el" href="structsrba_1_1observation__traits.html">observation_traits</a>&lt; obs_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>observation_traits_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab14c53c9959f1c9934226bf38bef24ea"></a><!-- doxytag: member="srba::RbaEngine::sensor_model_t" ref="ab14c53c9959f1c9934226bf38bef24ea" args="" -->
typedef sensor_model<br class="typebreak"/>
&lt; <a class="el" href="classLM__TYPE.html">landmark_t</a>, obs_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#ab14c53c9959f1c9934226bf38bef24ea">sensor_model_t</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The sensor model for the specified combination of LM parameterization + observation type. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7e93fb52935f6a322a74e83ae228cf6c"></a><!-- doxytag: member="srba::RbaEngine::pose_t" ref="a7e93fb52935f6a322a74e83ae228cf6c" args="" -->
typedef kf2kf_pose_t::pose_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a7e93fb52935f6a322a74e83ae228cf6c">pose_t</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of relative poses (e.g. <a class="elRef" doxygen="dox_mrpt.tag:http://reference.mrpt.org/devel//" href="http://reference.mrpt.org/devel/classmrpt_1_1poses_1_1_c_pose3_d.html">mrpt::poses::CPose3D</a>) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1277c702bc2eb7ee3e436ede709ba9b3"></a><!-- doxytag: member="srba::RbaEngine::rba_problem_state_t" ref="a1277c702bc2eb7ee3e436ede709ba9b3" args="" -->
typedef <a class="el" href="structsrba_1_1TRBA__Problem__state.html">TRBA_Problem_state</a><br class="typebreak"/>
&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, <br class="typebreak"/>
OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>rba_problem_state_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a233c8cfed8c07f680154621071317175"></a><!-- doxytag: member="srba::RbaEngine::k2f_edge_t" ref="a233c8cfed8c07f680154621071317175" args="" -->
typedef <br class="typebreak"/>
<a class="el" href="structsrba_1_1rba__joint__parameterization__traits__t_1_1k2f__edge__t.html">rba_problem_state_t::k2f_edge_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>k2f_edge_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afc710931ffde655288c1d58d1ea98817"></a><!-- doxytag: member="srba::RbaEngine::k2k_edge_t" ref="afc710931ffde655288c1d58d1ea98817" args="" -->
typedef <br class="typebreak"/>
<a class="el" href="structsrba_1_1kf2kf__pose__traits_1_1k2k__edge__t.html">rba_problem_state_t::k2k_edge_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>k2k_edge_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa331a47a6a8b6c5435843714fbcdbe7b"></a><!-- doxytag: member="srba::RbaEngine::k2k_edges_deque_t" ref="aa331a47a6a8b6c5435843714fbcdbe7b" args="" -->
typedef <br class="typebreak"/>
rba_problem_state_t::k2k_edges_deque_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#aa331a47a6a8b6c5435843714fbcdbe7b">k2k_edges_deque_t</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A list (deque) of KF-to-KF edges (unknown relative poses). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae7fa14214ba0e31df9cb9b847dccaf8f"></a><!-- doxytag: member="srba::RbaEngine::pose_flag_t" ref="ae7fa14214ba0e31df9cb9b847dccaf8f" args="" -->
typedef <br class="typebreak"/>
kf2kf_pose_traits_t::pose_flag_t&#160;</td><td class="memItemRight" valign="bottom"><b>pose_flag_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a05f8f27e0af91ff422f7075ea2bd844e"></a><!-- doxytag: member="srba::RbaEngine::frameid2pose_map_t" ref="a05f8f27e0af91ff422f7075ea2bd844e" args="" -->
typedef <br class="typebreak"/>
<a class="el" href="structsrba_1_1kf2kf__pose__traits.html#a5b7d4f6abdd0d906b1c9df326cf46347">kf2kf_pose_traits_t::frameid2pose_map_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>frameid2pose_map_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a06700c37173ba17574a81e073b0a9be6"></a><!-- doxytag: member="srba::RbaEngine::TRelativePosesForEachTarget" ref="a06700c37173ba17574a81e073b0a9be6" args="" -->
typedef <br class="typebreak"/>
<a class="elRef" doxygen="dox_mrpt.tag:http://reference.mrpt.org/devel//" href="http://reference.mrpt.org/devel/classmrpt_1_1utils_1_1map__as__vector.html">kf2kf_pose_traits_t::TRelativePosesForEachTarget</a>&#160;</td><td class="memItemRight" valign="bottom"><b>TRelativePosesForEachTarget</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7a58dde8b100c4cbd3181ffa30845971"></a><!-- doxytag: member="srba::RbaEngine::TRelativeLandmarkPosMap" ref="a7a58dde8b100c4cbd3181ffa30845971" args="" -->
typedef <br class="typebreak"/>
<a class="el" href="structsrba_1_1landmark__traits.html#a3eeade0c906e5d7c84aa830c557e0592">landmark_traits_t::TRelativeLandmarkPosMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#a7a58dde8b100c4cbd3181ffa30845971">TRelativeLandmarkPosMap</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">An index of feature IDs and their relative locations. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad9c684fcdf3f45f55baa7ce076fb1566"></a><!-- doxytag: member="srba::RbaEngine::TRelativeLandmarkPos" ref="ad9c684fcdf3f45f55baa7ce076fb1566" args="" -->
typedef <br class="typebreak"/>
landmark_traits_t::TRelativeLandmarkPos&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1RbaEngine.html#ad9c684fcdf3f45f55baa7ce076fb1566">TRelativeLandmarkPos</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">One landmark position (relative to its base KF) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab22de89599d59c99dd9a658dfd958754"></a><!-- doxytag: member="srba::RbaEngine::keyframe_info" ref="ab22de89599d59c99dd9a658dfd958754" args="" -->
typedef <a class="el" href="structsrba_1_1rba__joint__parameterization__traits__t_1_1keyframe__info.html">traits_t::keyframe_info</a>&#160;</td><td class="memItemRight" valign="bottom"><b>keyframe_info</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9a8baf6bd64c736ca187f29ffb88bca7"></a><!-- doxytag: member="srba::RbaEngine::new_kf_observation_t" ref="a9a8baf6bd64c736ca187f29ffb88bca7" args="" -->
typedef <br class="typebreak"/>
<a class="el" href="structsrba_1_1rba__joint__parameterization__traits__t_1_1new__kf__observation__t.html">traits_t::new_kf_observation_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>new_kf_observation_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0bdfddbc3066ee98e3708fea82d9b598"></a><!-- doxytag: member="srba::RbaEngine::new_kf_observations_t" ref="a0bdfddbc3066ee98e3708fea82d9b598" args="" -->
typedef <br class="typebreak"/>
<a class="el" href="structsrba_1_1rba__joint__parameterization__traits__t.html#a118ea54cd0d7342acef63c9fdcdad33e">traits_t::new_kf_observations_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>new_kf_observations_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a346b11d70871006fbc134e839ecf7f82"></a><!-- doxytag: member="srba::RbaEngine::array_pose_t" ref="a346b11d70871006fbc134e839ecf7f82" args="" -->
typedef <br class="typebreak"/>
<a class="el" href="structsrba_1_1kf2kf__pose__traits.html#a915bfedb4b4a5f36b6c421893c2d53ab">kf2kf_pose_traits_t::array_pose_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>array_pose_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae30c347f24950af3bda1986fe7159f89"></a><!-- doxytag: member="srba::RbaEngine::array_landmark_t" ref="ae30c347f24950af3bda1986fe7159f89" args="" -->
typedef <br class="typebreak"/>
<a class="el" href="structsrba_1_1landmark__traits.html#a55d3910408448c905f6b1ff0e087098e">landmark_traits_t::array_landmark_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>array_landmark_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6bfc62bf5ec7b8634bd62102108f42e8"></a><!-- doxytag: member="srba::RbaEngine::array_obs_t" ref="a6bfc62bf5ec7b8634bd62102108f42e8" args="" -->
typedef <br class="typebreak"/>
<a class="el" href="structsrba_1_1observation__traits.html#a07ae10d43164b102e50934afcb9e4d5c">observation_traits_t::array_obs_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>array_obs_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa70ff1189c28d62cadaa1f73c0898217"></a><!-- doxytag: member="srba::RbaEngine::residual_t" ref="aa70ff1189c28d62cadaa1f73c0898217" args="" -->
typedef <br class="typebreak"/>
<a class="el" href="structsrba_1_1observation__traits.html#aae733e1d302f23a842f986cd2f20f090">observation_traits_t::residual_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>residual_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a96ad580d0e15553bf9834c8a4f2ad065"></a><!-- doxytag: member="srba::RbaEngine::vector_residuals_t" ref="a96ad580d0e15553bf9834c8a4f2ad065" args="" -->
typedef <br class="typebreak"/>
observation_traits_t::vector_residuals_t&#160;</td><td class="memItemRight" valign="bottom"><b>vector_residuals_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8bb6839422589e05899828bb5272382a"></a><!-- doxytag: member="srba::RbaEngine::TSparseBlocksJacobians_dh_dAp" ref="a8bb6839422589e05899828bb5272382a" args="" -->
typedef <a class="el" href="structsrba_1_1jacobian__traits.html">jacobian_traits</a><br class="typebreak"/>
&lt; kf2kf_pose_t, <a class="el" href="classLM__TYPE.html">landmark_t</a>, <br class="typebreak"/>
obs_t &gt;<br class="typebreak"/>
::TSparseBlocksJacobians_dh_dAp&#160;</td><td class="memItemRight" valign="bottom"><b>TSparseBlocksJacobians_dh_dAp</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0b05da2479ee44b347798cca3f9300dc"></a><!-- doxytag: member="srba::RbaEngine::TSparseBlocksJacobians_dh_df" ref="a0b05da2479ee44b347798cca3f9300dc" args="" -->
typedef <a class="el" href="structsrba_1_1jacobian__traits.html">jacobian_traits</a><br class="typebreak"/>
&lt; kf2kf_pose_t, <a class="el" href="classLM__TYPE.html">landmark_t</a>, <br class="typebreak"/>
obs_t &gt;<br class="typebreak"/>
::TSparseBlocksJacobians_dh_df&#160;</td><td class="memItemRight" valign="bottom"><b>TSparseBlocksJacobians_dh_df</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad803144affb9e0c8ff9f1c5129481327"></a><!-- doxytag: member="srba::RbaEngine::REL_POSE_DIMS" ref="ad803144affb9e0c8ff9f1c5129481327" args="" -->
static const size_t&#160;</td><td class="memItemRight" valign="bottom"><b>REL_POSE_DIMS</b> = kf2kf_pose_t::REL_POSE_DIMS</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5eee53a06432e28dc73b2bd9c2de78ae"></a><!-- doxytag: member="srba::RbaEngine::LM_DIMS" ref="a5eee53a06432e28dc73b2bd9c2de78ae" args="" -->
static const size_t&#160;</td><td class="memItemRight" valign="bottom"><b>LM_DIMS</b> = landmark_t::LM_DIMS</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a28646d2034276c6ec32e07bcb6ea1975"></a><!-- doxytag: member="srba::RbaEngine::OBS_DIMS" ref="a28646d2034276c6ec32e07bcb6ea1975" args="" -->
static const size_t&#160;</td><td class="memItemRight" valign="bottom"><b>OBS_DIMS</b> = obs_t::OBS_DIMS</td></tr>
</table>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a48c6eeea6c8f2505eb24e349ef532103"></a><!-- doxytag: member="srba::RbaEngine::RbaEngine" ref="a48c6eeea6c8f2505eb24e349ef532103" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html">RbaEngine</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Default constructor </p>

<p>Definition at line <a class="el" href="rba__problem__common_8h_source.html#l00019">19</a> of file <a class="el" href="rba__problem__common_8h_source.html">rba_problem_common.h</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="abf4d2e13d959207129be89ad3bd7e67f"></a><!-- doxytag: member="srba::RbaEngine::alloc_keyframe" ref="abf4d2e13d959207129be89ad3bd7e67f" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">TKeyFrameID <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#abf4d2e13d959207129be89ad3bd7e67f">alloc_keyframe</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Users normally won't need to call this directly. Use <a class="el" href="classsrba_1_1RbaEngine.html#ac42b495132c3dc079bdfd3b51e402210">define_new_keyframe()</a> instead. This method appends an empty new keyframe to the data structures </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The ID of the new KF. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Runs in O(1)</dd></dl>
<p>Append an empty new keyframe to the data structures </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The ID of the new KF. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Runs in O(1) </dd></dl>

<p>Definition at line <a class="el" href="alloc__keyframe_8h_source.html#l00019">19</a> of file <a class="el" href="alloc__keyframe_8h_source.html">alloc_keyframe.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0dd5a776c8786f43640c9530c4dd1f40"></a><!-- doxytag: member="srba::RbaEngine::bfs_visitor" ref="a0dd5a776c8786f43640c9530c4dd1f40" args="(const TKeyFrameID root_id, const topo_dist_t max_distance, const bool rely_on_prebuilt_spanning_trees, KF_VISITOR &amp;kf_visitor, FEAT_VISITOR &amp;feat_visitor, K2K_EDGE_VISITOR &amp;k2k_edge_visitor, K2F_EDGE_VISITOR &amp;k2f_edge_visitor) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
<div class="memtemplate">
template&lt;class KF_VISITOR , class FEAT_VISITOR , class K2K_EDGE_VISITOR , class K2F_EDGE_VISITOR &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#a0dd5a776c8786f43640c9530c4dd1f40">bfs_visitor</a> </td>
          <td>(</td>
          <td class="paramtype">const TKeyFrameID&#160;</td>
          <td class="paramname"><em>root_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const topo_dist_t&#160;</td>
          <td class="paramname"><em>max_distance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>rely_on_prebuilt_spanning_trees</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KF_VISITOR &amp;&#160;</td>
          <td class="paramname"><em>kf_visitor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FEAT_VISITOR &amp;&#160;</td>
          <td class="paramname"><em>feat_visitor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">K2K_EDGE_VISITOR &amp;&#160;</td>
          <td class="paramname"><em>k2k_edge_visitor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">K2F_EDGE_VISITOR &amp;&#160;</td>
          <td class="paramname"><em>k2f_edge_visitor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Visits all k2k &amp; k2f edges following a BFS starting at a given starting node and up to a given maximum depth. Only k2k edges are considered for BFS paths. </p>

<p>Definition at line <a class="el" href="bfs__visitor_8h_source.html#l00021">21</a> of file <a class="el" href="bfs__visitor_8h_source.html">bfs_visitor.h</a>.</p>

</div>
</div>
<a class="anchor" id="a33b5953c7bc054662b4154b8b3b489f9"></a><!-- doxytag: member="srba::RbaEngine::build_opengl_representation" ref="a33b5953c7bc054662b4154b8b3b489f9" args="(const srba::TKeyFrameID root_keyframe, const TOpenGLRepresentationOptions &amp;options, mrpt::opengl::CSetOfObjectsPtr out_scene, mrpt::opengl::CSetOfObjectsPtr out_root_tree=mrpt::opengl::CSetOfObjectsPtr()) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#a33b5953c7bc054662b4154b8b3b489f9">build_opengl_representation</a> </td>
          <td>(</td>
          <td class="paramtype">const srba::TKeyFrameID&#160;</td>
          <td class="paramname"><em>root_keyframe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsrba_1_1RbaEngine_1_1TOpenGLRepresentationOptions.html">TOpenGLRepresentationOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mrpt::opengl::CSetOfObjectsPtr&#160;</td>
          <td class="paramname"><em>out_scene</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mrpt::opengl::CSetOfObjectsPtr&#160;</td>
          <td class="paramname"><em>out_root_tree</em> = <code>mrpt::opengl::CSetOfObjectsPtr()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Build an opengl representation of the current state of this RBA problem One of different representations can be generated: those opengl objects passed as NULL smart pointers will not be generated. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">out_scene</td><td>If not a NULL smart pointer, at return will hold a 3D view of the current KF, neighbor KFs and landmarks. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_root_tree</td><td>If not a NULL smart pointer, at return will hold a schematic 2D view of the current KF and its spanning tree. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="export__opengl_8h_source.html#l00024">24</a> of file <a class="el" href="export__opengl_8h_source.html">export_opengl.h</a>.</p>

</div>
</div>
<a class="anchor" id="a441b2e72c2401a3bb07c89a3c4aeae80"></a><!-- doxytag: member="srba::RbaEngine::clear" ref="a441b2e72c2401a3bb07c89a3c4aeae80" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#a441b2e72c2401a3bb07c89a3c4aeae80">clear</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reset the entire problem to an empty state (automatically called at construction) </p>

<p>Definition at line <a class="el" href="rba__problem__common_8h_source.html#l00029">29</a> of file <a class="el" href="rba__problem__common_8h_source.html">rba_problem_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a652e7f62609ac889500a2622d3ea90bf"></a><!-- doxytag: member="srba::RbaEngine::compute_jacobian_dh_df" ref="a652e7f62609ac889500a2622d3ea90bf" args="(typename TSparseBlocksJacobians_dh_df::TEntry &amp;jacob, const k2f_edge_t &amp;observation, std::vector&lt; const pose_flag_t * &gt; *out_list_of_required_num_poses) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#a652e7f62609ac889500a2622d3ea90bf">compute_jacobian_dh_df</a> </td>
          <td>(</td>
          <td class="paramtype">typename TSparseBlocksJacobians_dh_df::TEntry &amp;&#160;</td>
          <td class="paramname"><em>jacob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsrba_1_1rba__joint__parameterization__traits__t_1_1k2f__edge__t.html">k2f_edge_t</a> &amp;&#160;</td>
          <td class="paramname"><em>observation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; const pose_flag_t * &gt; *&#160;</td>
          <td class="paramname"><em>out_list_of_required_num_poses</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">
		 *                       j,i                    lm_id,base_id
		 *           \partial  h            \partial  h
		 *                       l                      obs_frame_id
		 * dh_df = ------------------ = ---------------------------------
		 *
		 *            \partial  f            \partial  f
		 * </pre></div><p> Note: f=relative position of landmark with respect to its base kf </p>

<p>Definition at line <a class="el" href="jacobians_8h_source.html#l00888">888</a> of file <a class="el" href="jacobians_8h_source.html">jacobians.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae48c4fcb3c4374cefd5804d56fa08f5e"></a><!-- doxytag: member="srba::RbaEngine::compute_jacobian_dh_dp" ref="ae48c4fcb3c4374cefd5804d56fa08f5e" args="(typename TSparseBlocksJacobians_dh_dAp::TEntry &amp;jacob, const k2f_edge_t &amp;observation, const k2k_edges_deque_t &amp;k2k_edges, std::vector&lt; const pose_flag_t * &gt; *out_list_of_required_num_poses) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#ae48c4fcb3c4374cefd5804d56fa08f5e">compute_jacobian_dh_dp</a> </td>
          <td>(</td>
          <td class="paramtype">typename TSparseBlocksJacobians_dh_dAp::TEntry &amp;&#160;</td>
          <td class="paramname"><em>jacob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsrba_1_1rba__joint__parameterization__traits__t_1_1k2f__edge__t.html">k2f_edge_t</a> &amp;&#160;</td>
          <td class="paramname"><em>observation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classsrba_1_1RbaEngine.html#aa331a47a6a8b6c5435843714fbcdbe7b">k2k_edges_deque_t</a> &amp;&#160;</td>
          <td class="paramname"><em>k2k_edges</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; const pose_flag_t * &gt; *&#160;</td>
          <td class="paramname"><em>out_list_of_required_num_poses</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">
		  *                      j,i                    lm_id,base_id
		  *          \partial  h            \partial  h
		  *                      l                      obs_frame_id
		  * dh_dp = ------------------ = ---------------------------------
		  *                      d+1                    cur_id
		  *          \partial  p            \partial  p
		  *                      d                      stp.next_node
		  * </pre></div><p> See tech report: "A tutorial on SE(3) transformation parameterizations and on-manifold optimization", Jose-Luis Blanco, 2010 </p>

<p>Definition at line <a class="el" href="jacobians_8h_source.html#l00207">207</a> of file <a class="el" href="jacobians_8h_source.html">jacobians.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae73d37babfc465350b2376daf5f9d352"></a><!-- doxytag: member="srba::RbaEngine::create_complete_spanning_tree" ref="ae73d37babfc465350b2376daf5f9d352" args="(const TKeyFrameID root_id, frameid2pose_map_t &amp;span_tree, const size_t max_depth=std::numeric_limits&lt; size_t &gt;::max(), std::vector&lt; bool &gt; *aux_ws=NULL) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#ae73d37babfc465350b2376daf5f9d352">create_complete_spanning_tree</a> </td>
          <td>(</td>
          <td class="paramtype">const TKeyFrameID&#160;</td>
          <td class="paramname"><em>root_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">frameid2pose_map_t &amp;&#160;</td>
          <td class="paramname"><em>span_tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>max_depth</em> = <code>std::numeric_limits&lt;size_t&gt;::max()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; bool &gt; *&#160;</td>
          <td class="paramname"><em>aux_ws</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates a numeric spanning tree between a given root keyframe and the entire graph, returning it into a user-supplied data structure Note that this method does NOT use the depth-limited spanning trees which are built incrementally with the graph. So, it takes an extra cost to call this method. For the other trees, see get_rba_state() </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">root_id</td><td>The root keyframe </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">span_tree</td><td>The output with all found relative poses. Its previous contents are cleared. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_depth</td><td>Defaults to std::numeric_limits&lt;size_t&gt;::max() for infinity depth, can be set to a maximum desired depth from the root. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aux_ws</td><td>Auxiliary working space: Set to an uninitialized vector&lt;bool&gt; (it'll automatically initialized) if you want to call this method simultaneously from several threads. Otherwise, setting to NULL will automatically use one working space, reusable between succesive calls. </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classsrba_1_1RbaEngine.html#ab3c19b155e0d3a1aa753df02847e9146">find_path_bfs</a> </dd></dl>

<p>Definition at line <a class="el" href="spantree__create__complete_8h_source.html#l00018">18</a> of file <a class="el" href="spantree__create__complete_8h_source.html">spantree_create_complete.h</a>.</p>

</div>
</div>
<a class="anchor" id="afeb4a8a93355de22518946526f50b7c8"></a><!-- doxytag: member="srba::RbaEngine::create_kf2kf_edge" ref="afeb4a8a93355de22518946526f50b7c8" args="(const TKeyFrameID new_kf_id, const TPairKeyFrameID &amp;new_edge, const typename traits_t::new_kf_observations_t &amp;obs, const pose_t &amp;init_inv_pose_val=pose_t())" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#afeb4a8a93355de22518946526f50b7c8">create_kf2kf_edge</a> </td>
          <td>(</td>
          <td class="paramtype">const TKeyFrameID&#160;</td>
          <td class="paramname"><em>new_kf_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TPairKeyFrameID &amp;&#160;</td>
          <td class="paramname"><em>new_edge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const typename <a class="el" href="structsrba_1_1rba__joint__parameterization__traits__t.html#a118ea54cd0d7342acef63c9fdcdad33e">traits_t::new_kf_observations_t</a> &amp;&#160;</td>
          <td class="paramname"><em>obs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classsrba_1_1RbaEngine.html#a7e93fb52935f6a322a74e83ae228cf6c">pose_t</a> &amp;&#160;</td>
          <td class="paramname"><em>init_inv_pose_val</em> = <code><a class="el" href="classsrba_1_1RbaEngine.html#a7e93fb52935f6a322a74e83ae228cf6c">pose_t</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Users normally won't need to call this directly. Use <a class="el" href="classsrba_1_1RbaEngine.html#ac42b495132c3dc079bdfd3b51e402210">define_new_keyframe()</a> instead. This method calls: 1) alloc_kf2kf_edge() for creating the data structures 2) spanning_tree.update_symbolic_new_node() for updating the spanning trees.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>obs is passed just for fixing missing spanning trees when using the policy of pure linear graph. </dd></dl>

<p>Definition at line <a class="el" href="create__kf2kf__edge_8h_source.html#l00015">15</a> of file <a class="el" href="create__kf2kf__edge_8h_source.html">create_kf2kf_edge.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac42b495132c3dc079bdfd3b51e402210"></a><!-- doxytag: member="srba::RbaEngine::define_new_keyframe" ref="ac42b495132c3dc079bdfd3b51e402210" args="(const typename traits_t::new_kf_observations_t &amp;obs, TNewKeyFrameInfo &amp;out_new_kf_info, const bool run_local_optimization=true)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#ac42b495132c3dc079bdfd3b51e402210">define_new_keyframe</a> </td>
          <td>(</td>
          <td class="paramtype">const typename <a class="el" href="structsrba_1_1rba__joint__parameterization__traits__t.html#a118ea54cd0d7342acef63c9fdcdad33e">traits_t::new_kf_observations_t</a> &amp;&#160;</td>
          <td class="paramname"><em>obs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsrba_1_1RbaEngine_1_1TNewKeyFrameInfo.html">TNewKeyFrameInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>out_new_kf_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>run_local_optimization</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The most common entry point for SRBA: append a new keyframe (KF) to the map, automatically creates the required edges and optimize the local area around this new KF.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obs</td><td>All the landmark observations gathered from this new KF (with data association already solved). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_new_kf_info</td><td>Returned information about the newly created KF. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">run_local_optimization</td><td>If set to true (default), the local map around the new KF will be optimized (i.e. <a class="el" href="classsrba_1_1RbaEngine.html#a4a764c69394055abe90b1f833b656855">optimize_local_area()</a> will be called automatically). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="define__new__keyframe_8h_source.html#l00016">16</a> of file <a class="el" href="define__new__keyframe_8h_source.html">define_new_keyframe.h</a>.</p>

</div>
</div>
<a class="anchor" id="a22c6828025a062037fa227b68ea38bde"></a><!-- doxytag: member="srba::RbaEngine::determine_kf2kf_edges_to_create" ref="a22c6828025a062037fa227b68ea38bde" args="(const TKeyFrameID new_kf_id, const typename traits_t::new_kf_observations_t &amp;obs, std::vector&lt; TNewEdgeInfo &gt; &amp;new_k2k_edge_ids)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#a22c6828025a062037fa227b68ea38bde">determine_kf2kf_edges_to_create</a> </td>
          <td>(</td>
          <td class="paramtype">const TKeyFrameID&#160;</td>
          <td class="paramname"><em>new_kf_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const typename <a class="el" href="structsrba_1_1rba__joint__parameterization__traits__t.html#a118ea54cd0d7342acef63c9fdcdad33e">traits_t::new_kf_observations_t</a> &amp;&#160;</td>
          <td class="paramname"><em>obs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structsrba_1_1TNewEdgeInfo.html">TNewEdgeInfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>new_k2k_edge_ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This method will call <a class="el" href="classsrba_1_1RbaEngine.html#a202a8517305e82a724ffa8e2f4035881" title="The edge creation policy object.">edge_creation_policy()</a>, which has predefined algorithms but could be re-defined by the user in a derived class</p>
<p>Determines and creates the new kf2fk edges given the set of new observations: </p>

<p>Definition at line <a class="el" href="determine__kf2kf__edges__to__create_8h_source.html#l00017">17</a> of file <a class="el" href="determine__kf2kf__edges__to__create_8h_source.html">determine_kf2kf_edges_to_create.h</a>.</p>

</div>
</div>
<a class="anchor" id="a59cf6a8a559c8d070f024ea946388a8a"></a><!-- doxytag: member="srba::RbaEngine::enable_time_profiler" ref="a59cf6a8a559c8d070f024ea946388a8a" args="(bool enable=true)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS  = RBA_OPTIONS_DEFAULT&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#a59cf6a8a559c8d070f024ea946388a8a">enable_time_profiler</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em> = <code>true</code></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enable or disables time profiling of all operations (default=enabled), which will be reported upon destruction </p>

<p>Definition at line <a class="el" href="RbaEngine_8h_source.html#l00481">481</a> of file <a class="el" href="RbaEngine_8h_source.html">RbaEngine.h</a>.</p>

</div>
</div>
<a class="anchor" id="afd9dfc707a544937695c2ac23def59b6"></a><!-- doxytag: member="srba::RbaEngine::eval_overall_squared_error" ref="afd9dfc707a544937695c2ac23def59b6" args="() const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#afd9dfc707a544937695c2ac23def59b6">eval_overall_squared_error</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Evaluates the quality of the overall map/landmark estimations, by computing the sum of the squared error contributions for all observations. For this, this method may have to compute *very long* shortest paths between distant keyframes if no loop-closure edges exist in order to evaluate the best approximation of relative coordinates between observing KFs and features' reference KFs.</p>
<p>The worst-case time consumed by this method is O(M*log(N) + N^2 + N E), N=# of KFs, E=# of edges, M=# of observations. </p>

<p>Definition at line <a class="el" href="eval__overall__error_8h_source.html#l00015">15</a> of file <a class="el" href="eval__overall__error_8h_source.html">eval_overall_error.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab3c19b155e0d3a1aa753df02847e9146"></a><!-- doxytag: member="srba::RbaEngine::find_path_bfs" ref="ab3c19b155e0d3a1aa753df02847e9146" args="(const TKeyFrameID src_kf, const TKeyFrameID trg_kf, std::vector&lt; TKeyFrameID &gt; &amp;found_path) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS  = RBA_OPTIONS_DEFAULT&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#ab3c19b155e0d3a1aa753df02847e9146">find_path_bfs</a> </td>
          <td>(</td>
          <td class="paramtype">const TKeyFrameID&#160;</td>
          <td class="paramname"><em>src_kf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TKeyFrameID&#160;</td>
          <td class="paramname"><em>trg_kf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; TKeyFrameID &gt; &amp;&#160;</td>
          <td class="paramname"><em>found_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>An unconstrained breadth-first search (BFS) for the shortest path between two keyframes. Note that this method does NOT use the depth-limited spanning trees which are built incrementally with the graph. So, it takes the extra cost of really running a BFS algorithm. For the other precomputed trees, see get_rba_state() Edge direction is ignored during the search, i.e. as if we had an undirected graph of Keyframes. If both source and target KF coincide, an empty path is returned. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if a path was found. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Worst-case computational complexity is that of a BFS over the entire graph: O(V+E), V=number of nodes, E=number of edges. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classsrba_1_1RbaEngine.html#ae73d37babfc465350b2376daf5f9d352">create_complete_spanning_tree</a> </dd></dl>

<p>Definition at line <a class="el" href="RbaEngine_8h_source.html#l00375">375</a> of file <a class="el" href="RbaEngine_8h_source.html">RbaEngine.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac9045312bc064b3548c61610c8807740"></a><!-- doxytag: member="srba::RbaEngine::get_global_graphslam_problem" ref="ac9045312bc064b3548c61610c8807740" args="(POSE_GRAPH &amp;global_graph, const ExportGraphSLAM_Params &amp;params=ExportGraphSLAM_Params()) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
<div class="memtemplate">
template&lt;class POSE_GRAPH &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#ac9045312bc064b3548c61610c8807740">get_global_graphslam_problem</a> </td>
          <td>(</td>
          <td class="paramtype">POSE_GRAPH &amp;&#160;</td>
          <td class="paramname"><em>global_graph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsrba_1_1RbaEngine_1_1ExportGraphSLAM__Params.html">ExportGraphSLAM_Params</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em> = <code><a class="el" href="structsrba_1_1RbaEngine_1_1ExportGraphSLAM__Params.html">ExportGraphSLAM_Params</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Build a graph-slam problem suitable for recovering the (consistent) global pose (vs. relative ones as are handled in SRBA) of each keyframe. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This version of the method doesn't account for the covariances of relative pose estimations in RBA. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="elRef" doxygen="dox_mrpt.tag:http://reference.mrpt.org/devel//" href="http://reference.mrpt.org/devel/namespacemrpt_1_1graphslam.html">mrpt::graphslam</a> (for methods capable of optimizing the output graph of pose constraints) </dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">global_graph</td><td>Previous contents will be erased. The output global graph will be returned here, initialized with poses from a Dijkstra/Spanning-tree from the first KF. </td></tr>
  </table>
  </dd>
</dl>
<dl class=""><dt><b>Template Parameters:</b></dt><dd>
  <table class="">
    <tr><td class="paramname">POSE_GRAPH</td><td>Must be an instance of mrpt::graphs::CNetworkOfPoses&lt;&gt;, e.g. CNetworkOfPoses2D (for 2D poses) or CNetworkOfPoses3D (for 3D). </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This method is NOT O(1)</dd></dl>
<p>Exports all the keyframes and landmarks as a directed graph in DOT (graphviz) format </p>

<p>Definition at line <a class="el" href="get__global__graphslam__problem_8h_source.html#l00017">17</a> of file <a class="el" href="get__global__graphslam__problem_8h_source.html">get_global_graphslam_problem.h</a>.</p>

</div>
</div>
<a class="anchor" id="afe9404ae3e15bc8a7ffbd3c27715cd6c"></a><!-- doxytag: member="srba::RbaEngine::get_kf_relative_pose" ref="afe9404ae3e15bc8a7ffbd3c27715cd6c" args="(const TKeyFrameID kf_query, const TKeyFrameID kf_reference) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS  = RBA_OPTIONS_DEFAULT&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classsrba_1_1RbaEngine.html#a7e93fb52935f6a322a74e83ae228cf6c">pose_t</a>* <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#afe9404ae3e15bc8a7ffbd3c27715cd6c">get_kf_relative_pose</a> </td>
          <td>(</td>
          <td class="paramtype">const TKeyFrameID&#160;</td>
          <td class="paramname"><em>kf_query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TKeyFrameID&#160;</td>
          <td class="paramname"><em>kf_reference</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the up-to-date relative pose of Keyframe `kf_query` with respect to `kf_reference`, or NULL if the relative pose is not immediately available from any numeric spanning tree. </p>

<p>Definition at line <a class="el" href="RbaEngine_8h_source.html#l00385">385</a> of file <a class="el" href="RbaEngine_8h_source.html">RbaEngine.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad60527df4e70255f2776983f116bf189"></a><!-- doxytag: member="srba::RbaEngine::get_time_profiler" ref="ad60527df4e70255f2776983f116bf189" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS  = RBA_OPTIONS_DEFAULT&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="dox_mrpt.tag:http://reference.mrpt.org/devel//" href="http://reference.mrpt.org/devel/classmrpt_1_1utils_1_1_c_time_logger.html">mrpt::utils::CTimeLogger</a>&amp; <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#ad60527df4e70255f2776983f116bf189">get_time_profiler</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Access to the time profiler </p>

<p>Definition at line <a class="el" href="RbaEngine_8h_source.html#l00492">492</a> of file <a class="el" href="RbaEngine_8h_source.html">RbaEngine.h</a>.</p>

</div>
</div>
<a class="anchor" id="a698a002f75218f66526c65eb8d1405f6"></a><!-- doxytag: member="srba::RbaEngine::huber_kernel" ref="a698a002f75218f66526c65eb8d1405f6" args="(double delta, const double kernel_param)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS  = RBA_OPTIONS_DEFAULT&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">static double <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#a698a002f75218f66526c65eb8d1405f6">huber_kernel</a> </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>delta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>kernel_param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>pseudo-huber cost function </p>

<p>Definition at line <a class="el" href="RbaEngine_8h_source.html#l00810">810</a> of file <a class="el" href="RbaEngine_8h_source.html">RbaEngine.h</a>.</p>

</div>
</div>
<a class="anchor" id="afe98fcb904d0feffd713741eea8aeccb"></a><!-- doxytag: member="srba::RbaEngine::numeric_dh_dAp" ref="afe98fcb904d0feffd713741eea8aeccb" args="(const array_pose_t &amp;x, const TNumeric_dh_dAp_params &amp;params, array_obs_t &amp;y)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#afe98fcb904d0feffd713741eea8aeccb">numeric_dh_dAp</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" doxygen="dox_mrpt.tag:http://reference.mrpt.org/devel//" href="http://reference.mrpt.org/devel/classmrpt_1_1math_1_1_c_array_double.html">array_pose_t</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsrba_1_1RbaEngine_1_1TNumeric__dh__dAp__params.html">TNumeric_dh_dAp_params</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="dox_mrpt.tag:http://reference.mrpt.org/devel//" href="http://reference.mrpt.org/devel/classmrpt_1_1math_1_1_c_array_double.html">array_obs_t</a> &amp;&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Auxiliary method for numeric Jacobian: numerically evaluates the new observation "y" for a small increment "x" in a relative KF-to-KF pose</p>
<p>Numeric implementation of the partial Jacobian dh_dAp </p>

<p>Definition at line <a class="el" href="jacobians_8h_source.html#l00090">90</a> of file <a class="el" href="jacobians_8h_source.html">jacobians.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa4bbfeb622c6bbaafcc36627d4035142"></a><!-- doxytag: member="srba::RbaEngine::numeric_dh_df" ref="aa4bbfeb622c6bbaafcc36627d4035142" args="(const array_landmark_t &amp;x, const TNumeric_dh_df_params &amp;params, array_obs_t &amp;y)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#aa4bbfeb622c6bbaafcc36627d4035142">numeric_dh_df</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" doxygen="dox_mrpt.tag:http://reference.mrpt.org/devel//" href="http://reference.mrpt.org/devel/classmrpt_1_1math_1_1_c_array_double.html">array_landmark_t</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsrba_1_1RbaEngine_1_1TNumeric__dh__df__params.html">TNumeric_dh_df_params</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="dox_mrpt.tag:http://reference.mrpt.org/devel//" href="http://reference.mrpt.org/devel/classmrpt_1_1math_1_1_c_array_double.html">array_obs_t</a> &amp;&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Auxiliary method for numeric Jacobian: numerically evaluates the new observation "y" for a small increment "x" in a landmark position </p>

<p>Definition at line <a class="el" href="jacobians_8h_source.html#l00170">170</a> of file <a class="el" href="jacobians_8h_source.html">jacobians.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7c9012717d290754a160e235c7b271b4"></a><!-- doxytag: member="srba::RbaEngine::optimize_edges" ref="a7c9012717d290754a160e235c7b271b4" args="(const std::vector&lt; size_t &gt; &amp;run_k2k_edges, const std::vector&lt; size_t &gt; &amp;run_feat_ids_in, TOptimizeExtraOutputInfo &amp;out_info, const std::vector&lt; size_t &gt; &amp;observation_indices_to_optimize=std::vector&lt; size_t &gt;())" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#a7c9012717d290754a160e235c7b271b4">optimize_edges</a> </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>run_k2k_edges</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>run_feat_ids_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsrba_1_1RbaEngine_1_1TOptimizeExtraOutputInfo.html">TOptimizeExtraOutputInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>out_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>observation_indices_to_optimize</em> = <code>std::vector&lt;size_t&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">observation_indices_to_optimize</td><td>Indices wrt <em>rba_state.all_observations</em>. An empty vector means use ALL the observations involving the selected unknowns. </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classsrba_1_1RbaEngine.html#a4a764c69394055abe90b1f833b656855">optimize_local_area</a> </dd></dl>

<p>Definition at line <a class="el" href="optimize__edges_8h_source.html#l00044">44</a> of file <a class="el" href="optimize__edges_8h_source.html">optimize_edges.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4a764c69394055abe90b1f833b656855"></a><!-- doxytag: member="srba::RbaEngine::optimize_local_area" ref="a4a764c69394055abe90b1f833b656855" args="(const TKeyFrameID root_id, const unsigned int win_size, TOptimizeExtraOutputInfo &amp;out_info, const TOptimizeLocalAreaParams &amp;params=TOptimizeLocalAreaParams(), const std::vector&lt; size_t &gt; &amp;observation_indices_to_optimize=std::vector&lt; size_t &gt;())" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#a4a764c69394055abe90b1f833b656855">optimize_local_area</a> </td>
          <td>(</td>
          <td class="paramtype">const TKeyFrameID&#160;</td>
          <td class="paramname"><em>root_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>win_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsrba_1_1RbaEngine_1_1TOptimizeExtraOutputInfo.html">TOptimizeExtraOutputInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>out_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsrba_1_1RbaEngine_1_1TOptimizeLocalAreaParams.html">TOptimizeLocalAreaParams</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em> = <code><a class="el" href="structsrba_1_1RbaEngine_1_1TOptimizeLocalAreaParams.html">TOptimizeLocalAreaParams</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>observation_indices_to_optimize</em> = <code>std::vector&lt;size_t&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Runs least-squares optimization for all the unknowns within a given topological distance to a given KeyFrame.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">observation_indices_to_optimize</td><td>Indices wrt <em>rba_state.all_observations</em>. An empty vector means use ALL the observations involving the selected unknowns. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Extra options are available in <em>parameters</em> </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classsrba_1_1RbaEngine.html#ac42b495132c3dc079bdfd3b51e402210">define_new_keyframe</a>, add_observation, <a class="el" href="classsrba_1_1RbaEngine.html#a7c9012717d290754a160e235c7b271b4">optimize_edges</a> </dd></dl>

<p>Definition at line <a class="el" href="optimize__local__area_8h_source.html#l00015">15</a> of file <a class="el" href="optimize__local__area_8h_source.html">optimize_local_area.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0c22bc4d6045612024e651aff7815fd0"></a><!-- doxytag: member="srba::RbaEngine::reprojection_residuals" ref="a0c22bc4d6045612024e651aff7815fd0" args="(vector_residuals_t &amp;residuals, const std::vector&lt; TObsUsed &gt; &amp;observations) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#a0c22bc4d6045612024e651aff7815fd0">reprojection_residuals</a> </td>
          <td>(</td>
          <td class="paramtype">vector_residuals_t &amp;&#160;</td>
          <td class="paramname"><em>residuals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structsrba_1_1RbaEngine_1_1TObsUsed.html">TObsUsed</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>observations</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>reprojection_residuals </p>

<p>Definition at line <a class="el" href="reprojection__residuals_8h_source.html#l00016">16</a> of file <a class="el" href="reprojection__residuals_8h_source.html">reprojection_residuals.h</a>.</p>

</div>
</div>
<a class="anchor" id="a226a8b58b51ae5fbb5376946af2e892f"></a><!-- doxytag: member="srba::RbaEngine::save_graph_as_dot" ref="a226a8b58b51ae5fbb5376946af2e892f" args="(const std::string &amp;targetFileName, const bool all_landmarks=false) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#a226a8b58b51ae5fbb5376946af2e892f">save_graph_as_dot</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>targetFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>all_landmarks</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Exports all the keyframes (and optionally all landmarks) as a directed graph in DOT (graphviz) format. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>false on any error writing to target file </dd></dl>

<p>Definition at line <a class="el" href="export__dot_8h_source.html#l00017">17</a> of file <a class="el" href="export__dot_8h_source.html">export_dot.h</a>.</p>

</div>
</div>
<a class="anchor" id="a18deccb1d87805b79d1057ea516e41b3"></a><!-- doxytag: member="srba::RbaEngine::save_graph_top_structure_as_dot" ref="a18deccb1d87805b79d1057ea516e41b3" args="(const std::string &amp;targetFileName, const bool set_node_coordinates) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#a18deccb1d87805b79d1057ea516e41b3">save_graph_top_structure_as_dot</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>targetFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>set_node_coordinates</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Exports the "high-level" structure of the map as a directed graph in DOT (graphviz) format: like <em>save_graph_as_dot</em> but only exporting those KFs with more than one kf2kf edge. Optionally, using "global" coordinates (from a spanning tree) to make it more similar to the real-world structure. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>false on any error writing to target file </dd></dl>

<p>Definition at line <a class="el" href="export__dot_8h_source.html#l00086">86</a> of file <a class="el" href="export__dot_8h_source.html">export_dot.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9d1ef5167ff512b5d151e129fd731cd5"></a><!-- doxytag: member="srba::RbaEngine::setVerbosityLevel" ref="a9d1ef5167ff512b5d151e129fd731cd5" args="(int level)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS  = RBA_OPTIONS_DEFAULT&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#a9d1ef5167ff512b5d151e129fd731cd5">setVerbosityLevel</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Changes the verbosity level: 0=None (only critical msgs), 1=verbose, 2=so verbose you'll have to say "Stop!" </p>

<p>Definition at line <a class="el" href="RbaEngine_8h_source.html#l00495">495</a> of file <a class="el" href="RbaEngine_8h_source.html">RbaEngine.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6721d5ed73e422aab8fa4b01b71f8f47"></a><!-- doxytag: member="srba::RbaEngine::sparse_hessian_build_symbolic" ref="a6721d5ed73e422aab8fa4b01b71f8f47" args="(HESS_Ap &amp;HAp, HESS_f &amp;Hf, HESS_Apf &amp;HApf, const std::vector&lt; JACOB_COLUMN_dh_dAp * &gt; &amp;dh_dAp, const std::vector&lt; JACOB_COLUMN_dh_df * &gt; &amp;dh_df)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
<div class="memtemplate">
template&lt;class HESS_Ap , class HESS_f , class HESS_Apf , class JACOB_COLUMN_dh_dAp , class JACOB_COLUMN_dh_df &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#a6721d5ed73e422aab8fa4b01b71f8f47">sparse_hessian_build_symbolic</a> </td>
          <td>(</td>
          <td class="paramtype">HESS_Ap &amp;&#160;</td>
          <td class="paramname"><em>HAp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HESS_f &amp;&#160;</td>
          <td class="paramname"><em>Hf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HESS_Apf &amp;&#160;</td>
          <td class="paramname"><em>HApf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; JACOB_COLUMN_dh_dAp * &gt; &amp;&#160;</td>
          <td class="paramname"><em>dh_dAp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; JACOB_COLUMN_dh_df * &gt; &amp;&#160;</td>
          <td class="paramname"><em>dh_df</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Rebuild the Hessian symbolic information from the given Jacobians. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">H</td><td>Output hessian (must be empty at input)</td></tr>
  </table>
  </dd>
</dl>
<p>Rebuild the Hessian symbolic information from the given Jacobians Example of the expected template types:</p>
<ul>
<li>HESS_Apf: MatrixBlockSparseCols&lt;double,6,3,THessianSymbolicInfo&lt;double,2,6,3&gt;, false &gt;</li>
<li>JACOB_COLUMN_dh_dAp: TSparseBlocksJacobians_dh_dAp::col_t = MatrixBlockSparseCols&lt;double,2,6,TJacobianSymbolicInfo_dh_dAp, false&gt;::col_t </li>
</ul>

<p>Definition at line <a class="el" href="sparse__hessian__build__symbolic_8h_source.html#l00022">22</a> of file <a class="el" href="sparse__hessian__build__symbolic_8h_source.html">sparse_hessian_build_symbolic.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad9028b772a3ad3cd5f4c492a4bbfb84c"></a><!-- doxytag: member="srba::RbaEngine::sparse_hessian_update_numeric" ref="ad9028b772a3ad3cd5f4c492a4bbfb84c" args="(SPARSEBLOCKHESSIAN &amp;H) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class KF2KF_POSE_TYPE , class LM_TYPE , class OBS_TYPE , class RBA_OPTIONS &gt; </div>
<div class="memtemplate">
template&lt;class SPARSEBLOCKHESSIAN &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classsrba_1_1RbaEngine.html">srba::RbaEngine</a>&lt; KF2KF_POSE_TYPE, <a class="el" href="classLM__TYPE.html">LM_TYPE</a>, OBS_TYPE, <a class="el" href="structRBA__OPTIONS.html">RBA_OPTIONS</a> &gt;::<a class="el" href="classsrba_1_1RbaEngine.html#ad9028b772a3ad3cd5f4c492a4bbfb84c">sparse_hessian_update_numeric</a> </td>
          <td>(</td>
          <td class="paramtype">SPARSEBLOCKHESSIAN &amp;&#160;</td>
          <td class="paramname"><em>H</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Rebuild the Hessian symbolic information from the internal pointers to blocks of Jacobians. Only the upper triangle is filled-in (all what is needed for Cholesky) for square Hessians, in whole for rectangular ones (it depends on the symbolic decomposition, done elsewhere). </p>
<dl class=""><dt><b>Template Parameters:</b></dt><dd>
  <table class="">
    <tr><td class="paramname">SPARSEBLOCKHESSIAN</td><td>can be: TSparseBlocksHessian_6x6, TSparseBlocksHessian_3x3 or TSparseBlocksHessian_6x3 </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of Jacobian multiplications skipped due to its observation being marked as "invalid" </dd></dl>

<p>Definition at line <a class="el" href="sparse__hessian__update__numeric_8h_source.html#l00022">22</a> of file <a class="el" href="sparse__hessian__update__numeric_8h_source.html">sparse_hessian_update_numeric.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>srba/<a class="el" href="RbaEngine_8h_source.html">RbaEngine.h</a></li>
<li>srba/impl/<a class="el" href="add-observations_8h_source.html">add-observations.h</a></li>
<li>srba/impl/<a class="el" href="alloc__keyframe_8h_source.html">alloc_keyframe.h</a></li>
<li>srba/impl/<a class="el" href="bfs__visitor_8h_source.html">bfs_visitor.h</a></li>
<li>srba/impl/<a class="el" href="compute__minus__gradient_8h_source.html">compute_minus_gradient.h</a></li>
<li>srba/impl/<a class="el" href="create__kf2kf__edge_8h_source.html">create_kf2kf_edge.h</a></li>
<li>srba/impl/<a class="el" href="define__new__keyframe_8h_source.html">define_new_keyframe.h</a></li>
<li>srba/impl/<a class="el" href="determine__kf2kf__edges__to__create_8h_source.html">determine_kf2kf_edges_to_create.h</a></li>
<li>srba/impl/<a class="el" href="eval__overall__error_8h_source.html">eval_overall_error.h</a></li>
<li>srba/impl/<a class="el" href="export__dot_8h_source.html">export_dot.h</a></li>
<li>srba/impl/<a class="el" href="export__opengl_8h_source.html">export_opengl.h</a></li>
<li>srba/impl/<a class="el" href="get__global__graphslam__problem_8h_source.html">get_global_graphslam_problem.h</a></li>
<li>srba/impl/<a class="el" href="jacobians_8h_source.html">jacobians.h</a></li>
<li>srba/impl/<a class="el" href="optimize__edges_8h_source.html">optimize_edges.h</a></li>
<li>srba/impl/<a class="el" href="optimize__local__area_8h_source.html">optimize_local_area.h</a></li>
<li>srba/impl/<a class="el" href="rba__problem__common_8h_source.html">rba_problem_common.h</a></li>
<li>srba/impl/<a class="el" href="reprojection__residuals_8h_source.html">reprojection_residuals.h</a></li>
<li>srba/impl/<a class="el" href="spantree__create__complete_8h_source.html">spantree_create_complete.h</a></li>
<li>srba/impl/<a class="el" href="sparse__hessian__build__symbolic_8h_source.html">sparse_hessian_build_symbolic.h</a></li>
<li>srba/impl/<a class="el" href="sparse__hessian__update__numeric_8h_source.html">sparse_hessian_update_numeric.h</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->


<hr class="footer"/><address class="footer"><small>
Generated on Sat Feb 13 2016 10:45:20 for SRBA: Sparser Relative Bundle Adjustment by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="$relpath^doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>


<script type="text/javascript">
var sc_project=10707328; 
var sc_invisible=1; 
var sc_security="34dd40cf"; 
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="web statistics"
href="http://statcounter.com/" target="_blank"><img
class="statcounter"
src="http://c.statcounter.com/10707328/0/34dd40cf/1/"
alt="web statistics"></a></div></noscript>

</body>
</html>
